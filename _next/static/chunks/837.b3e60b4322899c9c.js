"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[837,495],{837:function(e,t,r){r.r(t),r.d(t,{default:function(){return u}});var a=r(5893),s=r(7294);let n={map:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})}),flame:(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 18.657A8 8 0 016.343 7.343S7 9 9 10c0-2 .5-5 2.986-7C14 5 16.09 5.777 17.656 7.343A7.975 7.975 0 0120 13a7.975 7.975 0 01-2.343 5.657z"}),(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.879 16.121A3 3 0 1012.015 11L11 14H9c0 .768.293 1.536.879 2.121z"})]}),clock:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),heart:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})};function l(e){let{stats:t,isLoading:r}=e;return r?(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[,,,,].fill(0).map((e,t)=>(0,a.jsxs)("div",{className:"bg-gray-800 bg-opacity-60 rounded-lg border border-blue-500/20 p-4 backdrop-blur-sm animate-pulse",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,a.jsx)("div",{className:"h-4 w-24 bg-gray-700 rounded"}),(0,a.jsx)("div",{className:"h-8 w-8 bg-gray-700 rounded-full"})]}),(0,a.jsx)("div",{className:"h-8 w-20 bg-gray-700 rounded mt-4"})]},t))}):(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:t.map((e,t)=>(0,a.jsxs)("div",{className:"bg-gray-800 bg-opacity-60 rounded-lg border border-blue-500/20 p-4 backdrop-blur-sm transition-all duration-300 hover:shadow-lg hover:shadow-blue-500/10 hover:scale-[1.02]",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-400",children:e.title}),(0,a.jsx)("div",{className:"p-2 rounded-full bg-blue-500/20 text-blue-400",children:n[e.icon]||(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})})]}),(0,a.jsxs)("div",{className:"mt-4 flex items-baseline",children:[(0,a.jsx)("span",{className:"text-2xl font-semibold text-white",children:"number"==typeof e.value?e.value.toLocaleString():e.value}),e.unit&&(0,a.jsx)("span",{className:"ml-1 text-sm text-gray-400",children:e.unit})]})]},t))})}var i=r(9558);function o(e){let{quote:t,author:r}=e;return(0,a.jsx)("div",{className:"bg-gray-800 bg-opacity-60 rounded-lg border border-blue-500/20 p-4 backdrop-blur-sm",children:(0,a.jsxs)("div",{className:"flex flex-col h-full",children:[(0,a.jsx)("div",{className:"text-blue-400 mb-3",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 opacity-50",fill:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M14.017 21v-7.391c0-5.704 3.731-9.57 8.983-10.609l.995 2.151c-2.432.917-3.995 3.638-3.995 5.849h4v10h-9.983zm-14.017 0v-7.391c0-5.704 3.748-9.57 9-10.609l.996 2.151c-2.433.917-3.996 3.638-3.996 5.849h3.983v10h-9.983z"})})}),(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsx)("p",{className:"text-gray-300 text-lg font-light italic leading-relaxed mb-4",children:t})}),(0,a.jsx)("div",{className:"mt-auto",children:(0,a.jsxs)("p",{className:"text-blue-400 font-medium",children:["— ",r]})})]})})}let d={workout:(0,a.jsx)("div",{className:"rounded-full bg-blue-500/20 p-2",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),focus:(0,a.jsx)("div",{className:"rounded-full bg-purple-500/20 p-2",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-purple-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),habit:(0,a.jsx)("div",{className:"rounded-full bg-amber-500/20 p-2",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-amber-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})};function c(e){let{activities:t,isLoading:r}=e;return(0,a.jsxs)("div",{className:"bg-gray-800 bg-opacity-60 rounded-lg border border-blue-500/20 p-4 backdrop-blur-sm",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-blue-300 mb-4",children:"Recent Activity"}),r?[,,,].fill(0).map((e,t)=>(0,a.jsxs)("div",{className:"flex items-start space-x-3 mb-4 animate-pulse",children:[(0,a.jsx)("div",{className:"rounded-full bg-gray-700 h-9 w-9"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-700 w-24 rounded mb-2"}),(0,a.jsx)("div",{className:"h-3 bg-gray-700 w-16 rounded"})]}),(0,a.jsx)("div",{className:"h-4 bg-gray-700 w-12 rounded"})]},t)):t.length>0?t.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-start space-x-3 mb-4 p-2 rounded-md transition-all duration-300 hover:bg-gray-700/30",children:[d[e.type]||d.workout,(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-white font-medium",children:e.title}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:e.date})]}),(0,a.jsx)("div",{className:"text-blue-300 font-medium",children:e.value})]},t)):(0,a.jsx)("div",{className:"text-center py-8 text-gray-400",children:"No recent activity"})]})}function u(e){let{supabase:t,dateRange:r}=e,[n,d]=(0,s.useState)({vo2Max:{value:0,trend:0},workouts:{value:0,trend:0},focusHours:{value:0,trend:0},habitStreak:{value:0,trend:0}}),[u,h]=(0,s.useState)({labels:[],datasets:[]}),[g,m]=(0,s.useState)([]),[x,b]=(0,s.useState)(!0),v=e=>e.toISOString().split("T")[0];return(0,s.useEffect)(()=>{(async function(){b(!0);try{var e,t,a,s,n;let l=v(r.startDate),i=v(r.endDate),o=await fetch("/api/vo2max?latest=true"),c=await o.json(),u=await fetch("/api/workouts?start_date=".concat(l,"&end_date=").concat(i)),g=await u.json(),x=await fetch("/api/toggl?start_date=".concat(l,"&end_date=").concat(i)),b=await x.json(),p=await fetch("/api/habits?start_date=".concat(l,"&end_date=").concat(i)),f=await p.json(),w=(null===(e=g.data)||void 0===e?void 0:e.length)||0,j=(null===(a=b.raw)||void 0===a?void 0:null===(t=a.filter(e=>"Deep Work"===e.bucket))||void 0===t?void 0:t.reduce((e,t)=>e+t.hours,0))||0,k=Object.keys((null===(s=f.summary)||void 0===s?void 0:s.habitsByDate)||{}).filter(e=>{let t=f.summary.habitsByDate[e];return t.completed/t.total>=.8}).length,y=[];if(g.data&&g.data.length>0&&g.data.slice(0,3).forEach(e=>{let t=new Date(e.date);y.push({type:"workout",title:e.title||e.activity_type,date:t.toLocaleDateString(),value:"".concat((e.distance/1e3).toFixed(2)," km")})}),b.raw&&b.raw.length>0){let e={};b.raw.forEach(t=>{e[t.date]||(e[t.date]={}),e[t.date][t.bucket]||(e[t.date][t.bucket]=0),e[t.date][t.bucket]+=t.hours}),Object.keys(e).sort((e,t)=>new Date(t)-new Date(e)).slice(0,2).forEach(t=>{let r=Object.keys(e[t]),a=r.reduce((r,a)=>e[t][a]>e[t][r]?a:r,r[0]);y.push({type:"focus",title:a,date:new Date(t).toLocaleDateString(),value:"".concat(e[t][a].toFixed(1)," hrs")})})}if(f.habits&&f.habits.length>0){let e=[...new Set(f.habits.map(e=>e.habit_date))];if(e.sort((e,t)=>new Date(t)-new Date(e)),e.length>0){let t=e[0],r=f.habits.filter(e=>e.habit_date===t),a=r.filter(e=>e.completed).length,s=r.length;y.push({type:"habit",title:"Daily Habits",date:new Date(t).toLocaleDateString(),value:"".concat(a,"/").concat(s," complete")})}}y.sort((e,t)=>new Date(t.date)-new Date(e.date)),d({vo2Max:{value:(null===(n=c.latest)||void 0===n?void 0:n.vo2max_value)||0,trend:c.trend||0},workouts:{value:w,trend:0},focusHours:{value:j.toFixed(1),trend:0},habitStreak:{value:k,trend:0}}),h({labels:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],datasets:[{label:"Workouts",data:[1,0,1,1,0,1,0],borderColor:"rgba(66, 153, 225, 0.8)",backgroundColor:"rgba(66, 153, 225, 0.2)",yAxisID:"y-axis-1"},{label:"Focus Hours",data:[4.5,5.2,3.8,6.1,4.3,1.5,.8],borderColor:"rgba(236, 72, 153, 0.8)",backgroundColor:"rgba(236, 72, 153, 0.2)",yAxisID:"y-axis-2"}]}),m(y)}catch(e){console.error("Error fetching dashboard data:",e)}finally{b(!1)}})()},[t,r]),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-orbitron text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-500",children:"Dashboard Overview"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsx)(l,{title:"VO₂ Max",value:n.vo2Max.value,unit:"ml/kg/min",trend:n.vo2Max.trend,icon:"heart",isLoading:x,color:"purple"}),(0,a.jsx)(l,{title:"Workouts",value:n.workouts.value,unit:"sessions",trend:n.workouts.trend,icon:"activity",isLoading:x,color:"blue"}),(0,a.jsx)(l,{title:"Focus Time",value:n.focusHours.value,unit:"hours",trend:n.focusHours.trend,icon:"clock",isLoading:x,color:"green"}),(0,a.jsx)(l,{title:"Habit Streak",value:n.habitStreak.value,unit:"days",trend:n.habitStreak.trend,icon:"check-circle",isLoading:x,color:"amber"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"lg:col-span-2 bg-gray-800 bg-opacity-60 rounded-lg border border-blue-500/20 p-4 backdrop-blur-sm",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-blue-300 mb-4",children:"Weekly Activity"}),(0,a.jsx)(i.Z,{data:u,type:"line",height:300,isLoading:x,options:{scales:{"y-axis-1":{type:"linear",position:"left",title:{display:!0,text:"Workouts"},suggestedMin:0,suggestedMax:2,ticks:{stepSize:1}},"y-axis-2":{type:"linear",position:"right",title:{display:!0,text:"Hours"},suggestedMin:0,grid:{drawOnChartArea:!1}}}}})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,a.jsx)(o,{quote:"Consistency over intensity. Those who show up every day outperform those who show up occasionally with maximum effort.",author:"James Clear"}),(0,a.jsx)(c,{activities:g,isLoading:x})]})]}),(0,a.jsxs)("div",{className:"bg-gray-800 bg-opacity-60 rounded-lg border border-blue-500/20 p-6 backdrop-blur-sm",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-blue-300 mb-4",children:"Dashboard Inspiration"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsxs)("div",{className:"p-4 rounded-lg bg-gray-800/50 border border-blue-500/10",children:[(0,a.jsx)("h4",{className:"text-blue-300 font-medium mb-2",children:"Naval Ravikant"}),(0,a.jsx)("p",{className:"text-gray-300 text-sm",children:"Prioritizing health, learning, and deep work as foundational elements for personal growth and wealth creation."})]}),(0,a.jsxs)("div",{className:"p-4 rounded-lg bg-gray-800/50 border border-purple-500/10",children:[(0,a.jsx)("h4",{className:"text-purple-300 font-medium mb-2",children:"Peter Attia"}),(0,a.jsx)("p",{className:"text-gray-300 text-sm",children:"Tracking fitness metrics like VO2 max, strength, and other longevity indicators to optimize health over the long term."})]}),(0,a.jsxs)("div",{className:"p-4 rounded-lg bg-gray-800/50 border border-green-500/10",children:[(0,a.jsx)("h4",{className:"text-green-300 font-medium mb-2",children:"Balaji Srinivasan"}),(0,a.jsx)("p",{className:"text-gray-300 text-sm",children:'Public accountability through "Proof of Workout" concept, encouraging transparency in fitness and productivity efforts.'})]}),(0,a.jsxs)("div",{className:"p-4 rounded-lg bg-gray-800/50 border border-amber-500/10",children:[(0,a.jsx)("h4",{className:"text-amber-300 font-medium mb-2",children:"James Clear"}),(0,a.jsx)("p",{className:"text-gray-300 text-sm",children:"Emphasizing small, consistent habits to drive meaningful change. Making habit data public reinforces accountability."})]})]})]})]})}},9558:function(e,t,r){r.d(t,{Z:function(){return o}});var a=r(5893),s=r(7294),n=r(3148),l=r(6495);n.kL.register(n.uw,n.f$,n.od,n.jn,n.ZL,n.qi,n.Dx,n.u,n.De,n.Gu);let i={responsive:!0,maintainAspectRatio:!0,plugins:{legend:{position:"top",labels:{color:"#D1D5DB",boxWidth:12,padding:10,font:{size:11}}},tooltip:{backgroundColor:"rgba(17, 24, 39, 0.8)",titleColor:"#F9FAFB",bodyColor:"#F3F4F6",borderColor:"rgba(59, 130, 246, 0.5)",borderWidth:1,padding:10,cornerRadius:6,displayColors:!0,usePointStyle:!0,boxPadding:3}},scales:{x:{grid:{color:"rgba(31, 41, 55, 0.2)",borderColor:"rgba(31, 41, 55, 0.5)"},ticks:{color:"#9CA3AF",maxRotation:45,minRotation:0,font:{size:10}}},y:{grid:{color:"rgba(31, 41, 55, 0.2)",borderColor:"rgba(31, 41, 55, 0.5)"},ticks:{color:"#9CA3AF",font:{size:10}}}},elements:{line:{tension:.3,borderWidth:2},point:{radius:3,hoverRadius:5,borderWidth:2,backgroundColor:"#1F2937"},bar:{borderRadius:4},arc:{borderWidth:1,borderColor:"#1F2937"}}};function o(e){let{data:t,type:r="line",height:n=300,isLoading:o=!1,options:d={}}=e,[c,u]=(0,s.useState)({}),[h,g]=(0,s.useState)(2);return(0,s.useEffect)(()=>{let e=()=>{var e,t,a,s,n;let l;let o=window.innerWidth;g(l=o<640?1.25:o<1024?1.75:2),u({...i,...d,responsive:!0,maintainAspectRatio:!0,aspectRatio:l,plugins:{...i.plugins,...d.plugins,legend:{...null===(e=i.plugins)||void 0===e?void 0:e.legend,...null===(t=d.plugins)||void 0===t?void 0:t.legend,display:"pie"===r||"doughnut"===r||o>640}},scales:{...i.scales,...d.scales,x:{...i.scales.x,...null===(a=d.scales)||void 0===a?void 0:a.x,ticks:{...i.scales.x.ticks,...null===(n=d.scales)||void 0===n?void 0:null===(s=n.x)||void 0===s?void 0:s.ticks,maxRotation:o<640?90:45,autoSkip:!0,maxTicksLimit:o<640?6:12}}}})};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[d,r]),(0,a.jsx)("div",{className:"relative w-full",style:{height:"".concat(n,"px")},children:o?(0,a.jsx)("div",{className:"h-full w-full flex items-center justify-center",children:(0,a.jsx)("div",{className:"h-12 w-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})}):t.labels&&t.labels.length>0?(()=>{switch(r){case"line":default:return(0,a.jsx)(l.Line,{data:t,options:c});case"bar":return(0,a.jsx)(l.Bar,{data:t,options:c});case"pie":return(0,a.jsx)(l.Pie,{data:t,options:c});case"doughnut":return(0,a.jsx)(l.Doughnut,{data:t,options:c})}})():(0,a.jsx)("div",{className:"h-full w-full flex items-center justify-center text-gray-400 text-center p-4",children:"No data available for the selected period"})})}},6495:function(e,t,r){r.r(t),r.d(t,{Bar:function(){return m},Bubble:function(){return p},Chart:function(){return u},Doughnut:function(){return b},Line:function(){return g},Pie:function(){return f},PolarArea:function(){return v},Radar:function(){return x},Scatter:function(){return w},getDatasetAtEvent:function(){return o},getElementAtEvent:function(){return d},getElementsAtEvent:function(){return c}});var a=r(7294),s=r(3148);let n="label";function l(e,t){"function"==typeof e?e(t):e&&(e.current=t)}function i(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n,a=[];e.datasets=t.map(t=>{let s=e.datasets.find(e=>e[r]===t[r]);return!s||!t.data||a.includes(s)?{...t}:(a.push(s),Object.assign(s,t),s)})}function o(e,t){return e.getElementsAtEventForMode(t.nativeEvent,"dataset",{intersect:!0},!1)}function d(e,t){return e.getElementsAtEventForMode(t.nativeEvent,"nearest",{intersect:!0},!1)}function c(e,t){return e.getElementsAtEventForMode(t.nativeEvent,"index",{intersect:!0},!1)}let u=(0,a.forwardRef)(function(e,t){let{height:r=150,width:o=300,redraw:d=!1,datasetIdKey:c,type:u,data:h,options:g,plugins:m=[],fallbackContent:x,updateMode:b,...v}=e,p=(0,a.useRef)(null),f=(0,a.useRef)(null),w=()=>{p.current&&(f.current=new s.kL(p.current,{type:u,data:function(e){var t;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,a={labels:[],datasets:[]};return t=e.labels,a.labels=t,i(a,e.datasets,r),a}(h,c),options:g&&{...g},plugins:m}),l(t,f.current))},j=()=>{l(t,null),f.current&&(f.current.destroy(),f.current=null)};return(0,a.useEffect)(()=>{!d&&f.current&&g&&function(e,t){let r=e.options;r&&t&&Object.assign(r,t)}(f.current,g)},[d,g]),(0,a.useEffect)(()=>{if(!d&&f.current){var e,t;e=f.current.config.data,t=h.labels,e.labels=t}},[d,h.labels]),(0,a.useEffect)(()=>{!d&&f.current&&h.datasets&&i(f.current.config.data,h.datasets,c)},[d,h.datasets]),(0,a.useEffect)(()=>{f.current&&(d?(j(),setTimeout(w)):f.current.update(b))},[d,g,h.labels,h.datasets,b]),(0,a.useEffect)(()=>{f.current&&(j(),setTimeout(w))},[u]),(0,a.useEffect)(()=>(w(),()=>j()),[]),a.createElement("canvas",{ref:p,role:"img",height:r,width:o,...v},x)});function h(e,t){return s.kL.register(t),(0,a.forwardRef)((t,r)=>a.createElement(u,{...t,ref:r,type:e}))}let g=h("line",s.ST),m=h("bar",s.vn),x=h("radar",s.Xi),b=h("doughnut",s.jI),v=h("polarArea",s.CV),p=h("bubble",s.N0),f=h("pie",s.tt),w=h("scatter",s.ho)}}]);