(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{8345:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/diagnostic",function(){return t(867)}])},867:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return c}});var n=t(5893),a=t(7294),i=t(8967);function c(){let[e,s]=(0,a.useState)([]),[t,c]=(0,a.useState)({}),[r,l]=(0,a.useState)({}),o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";s(s=>[...s,{time:new Date().toISOString(),message:e,type:t}])};return(0,a.useEffect)(()=>{try{o("Starting environment checks");let e="https://oxhtyvhbjowtybdhdxfa.supabase.co",s="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im94aHR5dmhiam93dHliZGhkeGZhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzk2NzIwMTAsImV4cCI6MjA1NTI0ODAxMH0.hbKqzjs1UWVfdiKUBdRBASNwyR9EGElJqGXzxojJ-u0";if(c({supabaseUrl:e?"Set":"Not set",supabaseKey:s?"Set":"Not set",nodeEnv:"production",windowDefined:!0,userAgent:window.navigator.userAgent}),o("Environment variables checked"),e&&s){o("Initializing Supabase client");let t=(0,i.eI)(e,s);o("Supabase client initialized successfully"),o("Testing Supabase connection with simple query"),t.auth.getSession().then(()=>o("Supabase connection test succeeded","success")).catch(e=>o("Supabase connection test failed: ".concat(e.message),"error"))}else o("Skipping Supabase initialization due to missing credentials","warning")}catch(e){o("Error during environment check: ".concat(e.message),"error")}},[]),(0,a.useEffect)(()=>{let e=async(e,s)=>{try{o("Testing component: ".concat(e)),await s(),l(s=>({...s,[e]:"Passed"})),o("Component ".concat(e," test passed"),"success")}catch(s){l(t=>({...t,[e]:"Failed: ".concat(s.message)})),o("Component ".concat(e," test failed: ").concat(s.message),"error")}};e("DateRangePicker",async()=>{let e=new Date,s=new Date;if(s.setDate(s.getDate()+7),"function"!=typeof e.toISOString)throw Error("Date object is not valid")}),e("Chart.js",async()=>{window.Chart||o("Chart.js global not found, will be loaded dynamically","info")})},[]),(0,n.jsxs)("div",{className:"min-h-screen bg-gray-900 text-white p-6",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Dashboard Diagnostic Tool"}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,n.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4",children:[(0,n.jsx)("h2",{className:"text-xl font-bold mb-2",children:"Environment"}),(0,n.jsx)("ul",{className:"space-y-2",children:Object.entries(t).map(e=>{let[s,t]=e;return(0,n.jsxs)("li",{className:"flex justify-between border-b border-gray-700 pb-1",children:[(0,n.jsxs)("span",{children:[s,":"]}),(0,n.jsx)("span",{className:"Not set"===t?"text-red-400":"text-green-400",children:t})]},s)})})]}),(0,n.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4",children:[(0,n.jsx)("h2",{className:"text-xl font-bold mb-2",children:"Component Tests"}),(0,n.jsx)("ul",{className:"space-y-2",children:Object.entries(r).map(e=>{let[s,t]=e;return(0,n.jsxs)("li",{className:"flex justify-between border-b border-gray-700 pb-1",children:[(0,n.jsxs)("span",{children:[s,":"]}),(0,n.jsx)("span",{className:t.startsWith("Failed")?"text-red-400":"text-green-400",children:t})]},s)})})]})]}),(0,n.jsxs)("div",{className:"mt-6 bg-gray-800 rounded-lg p-4",children:[(0,n.jsx)("h2",{className:"text-xl font-bold mb-2",children:"Diagnostic Logs"}),(0,n.jsxs)("div",{className:"bg-gray-900 p-3 rounded-lg h-64 overflow-y-auto font-mono text-sm",children:[e.map((e,s)=>(0,n.jsxs)("div",{className:"mb-1 ".concat("error"===e.type?"text-red-400":"warning"===e.type?"text-yellow-400":"success"===e.type?"text-green-400":"text-gray-300"),children:["[",e.time.split("T")[1].split(".")[0],"] ",e.message]},s)),0===e.length&&(0,n.jsx)("div",{className:"text-gray-500 italic",children:"No logs yet..."})]})]}),(0,n.jsxs)("div",{className:"mt-6 bg-gray-800 rounded-lg p-4",children:[(0,n.jsx)("h2",{className:"text-xl font-bold mb-2",children:"Recommended Actions"}),(0,n.jsxs)("ul",{className:"list-disc pl-5 space-y-2",children:[(0,n.jsx)("li",{children:"Check browser console (F12) for JavaScript errors"}),(0,n.jsx)("li",{children:"Verify .env.local file has correct Supabase credentials"}),(0,n.jsx)("li",{children:"Try using a different browser"}),(0,n.jsx)("li",{children:"Clear your browser cache"}),(0,n.jsxs)("li",{children:["Run ",(0,n.jsx)("code",{className:"bg-gray-700 p-1 rounded",children:"npm install"})," to ensure all dependencies are installed"]}),(0,n.jsx)("li",{children:"Check if the Node.js version meets the requirements"})]})]}),(0,n.jsx)("div",{className:"mt-6 text-center",children:(0,n.jsx)("button",{onClick:()=>window.location.href="/",className:"px-4 py-2 bg-blue-600 rounded hover:bg-blue-700 transition-colors",children:"Return to Dashboard"})})]})}}},function(e){e.O(0,[967,888,774,179],function(){return e(e.s=8345)}),_N_E=e.O()}]);