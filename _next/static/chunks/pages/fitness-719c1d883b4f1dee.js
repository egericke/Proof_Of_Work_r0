(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[561],{7866:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/fitness",function(){return t(5207)}])},5207:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return i}});var a=t(5893),l=t(7294),r=t(8967);function i(){let[e,s]=(0,l.useState)([]),[t,i]=(0,l.useState)(null),[n,c]=(0,l.useState)(!0),[d,o]=(0,l.useState)(null);function x(e){return e?"".concat((e/1e3).toFixed(2)," km"):"0 km"}return(0,l.useEffect)(()=>{(async function(){try{c(!0);let e="https://oxhtyvhbjowtybdhdxfa.supabase.co",t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im94aHR5dmhiam93dHliZGhkeGZhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzk2NzIwMTAsImV4cCI6MjA1NTI0ODAxMH0.hbKqzjs1UWVfdiKUBdRBASNwyR9EGElJqGXzxojJ-u0";if(!e||!t)throw Error("Supabase environment variables are not set");let a=(0,r.eI)(e,t),{data:l,error:n}=await a.from("workout_stats").select("*").order("date",{ascending:!1}).limit(10);if(n)throw n;let{data:d,error:o}=await a.from("vo2max_tests").select("*").order("test_date",{ascending:!1}).limit(1);if(o)throw o;s(l||[]),i((null==d?void 0:d[0])||null)}catch(e){console.error("Error fetching fitness data:",e),o(e.message)}finally{c(!1)}})()},[]),(0,a.jsxs)("div",{className:"min-h-screen bg-gray-900 text-white p-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Fitness Dashboard"}),n?(0,a.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):d?(0,a.jsxs)("div",{className:"text-red-400 p-4 bg-red-900 bg-opacity-30 rounded border border-red-500",children:[(0,a.jsx)("p",{className:"font-bold",children:"Error loading data:"}),(0,a.jsx)("p",{children:d})]}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 shadow",children:[(0,a.jsx)("h2",{className:"text-lg font-medium text-blue-300 mb-4",children:"Your Fitness Stats"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t&&(0,a.jsxs)("div",{className:"bg-blue-900 bg-opacity-30 border border-blue-700 p-4 rounded-lg",children:[(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:"Latest VOâ‚‚ Max"}),(0,a.jsxs)("p",{className:"text-2xl font-bold",children:[t.vo2max_value," ",(0,a.jsx)("span",{className:"text-sm",children:"ml/kg/min"})]}),(0,a.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:["Recorded on: ",new Date(t.test_date).toLocaleDateString()]})]}),(0,a.jsxs)("div",{className:"bg-gray-700 p-4 rounded-lg",children:[(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:"Total Workouts"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:e.length})]}),(0,a.jsxs)("div",{className:"bg-gray-700 p-4 rounded-lg",children:[(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:"Total Distance"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:x(e.reduce((e,s)=>e+(s.distance||0),0))})]}),(0,a.jsxs)("div",{className:"bg-gray-700 p-4 rounded-lg",children:[(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:"Total Calories"}),(0,a.jsxs)("p",{className:"text-2xl font-bold",children:[e.reduce((e,s)=>e+(s.calories||0),0)," kcal"]})]})]})]}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 shadow",children:[(0,a.jsx)("h2",{className:"text-lg font-medium text-blue-300 mb-4",children:"Recent Workouts"}),0===e.length?(0,a.jsx)("div",{className:"text-center py-8 text-gray-400",children:(0,a.jsx)("p",{children:"No workout data available"})}):(0,a.jsx)("div",{className:"space-y-3",children:e.map((e,s)=>(0,a.jsxs)("div",{className:"bg-gray-700 p-4 rounded-lg flex flex-col md:flex-row md:justify-between gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("h3",{className:"font-medium",children:e.title||e.activity_type}),(0,a.jsx)("span",{className:"text-xs bg-blue-900 text-blue-300 px-2 py-0.5 rounded",children:e.activity_type})]}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:new Date(e.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-4",children:[e.distance&&(0,a.jsxs)("div",{className:"min-w-24",children:[(0,a.jsx)("p",{className:"text-gray-400 text-xs",children:"Distance"}),(0,a.jsx)("p",{className:"font-medium",children:x(e.distance)})]}),e.time&&(0,a.jsxs)("div",{className:"min-w-24",children:[(0,a.jsx)("p",{className:"text-gray-400 text-xs",children:"Duration"}),(0,a.jsx)("p",{className:"font-medium",children:function(e){if(!e)return"0 min";let s=Math.floor(e/3600),t=Math.floor(e%3600/60);return s>0?"".concat(s,"h ").concat(t,"min"):"".concat(t," min")}(e.time)})]}),e.calories&&(0,a.jsxs)("div",{className:"min-w-24",children:[(0,a.jsx)("p",{className:"text-gray-400 text-xs",children:"Calories"}),(0,a.jsxs)("p",{className:"font-medium",children:[e.calories," kcal"]})]}),e.avg_hr&&(0,a.jsxs)("div",{className:"min-w-24",children:[(0,a.jsx)("p",{className:"text-gray-400 text-xs",children:"Avg Heart Rate"}),(0,a.jsxs)("p",{className:"font-medium",children:[e.avg_hr," bpm"]})]})]})]},s))})]})]})]})}}},function(e){e.O(0,[967,888,774,179],function(){return e(e.s=7866)}),_N_E=e.O()}]);