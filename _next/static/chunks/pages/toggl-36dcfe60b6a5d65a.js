(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[567],{2948:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/toggl",function(){return a(3470)}])},3470:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return c}});var r=a(5893),s=a(7294),l=a(6490),i=a(5152),n=a.n(i),o=a(3148);let d=n()(()=>a.e(495).then(a.bind(a,6495)).then(e=>e.Bar),{loadableGenerated:{webpack:()=>[null]},ssr:!1});function c(){let[e,t]=(0,s.useState)({labels:[],datasets:[]}),[a,i]=(0,s.useState)(!0),[n,o]=(0,s.useState)(null);return(0,s.useEffect)(()=>{(async function(){try{i(!0);let e=(0,l.eI)("https://oxhtyvhbjowtybdhdxfa.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im94aHR5dmhiam93dHliZGhkeGZhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzk2NzIwMTAsImV4cCI6MjA1NTI0ODAxMH0.hbKqzjs1UWVfdiKUBdRBASNwyR9EGElJqGXzxojJ-u0"),{data:a,error:r}=await e.from("toggl_time").select("date, bucket, hours").order("date",{ascending:!0});if(r)throw r;if(a&&a.length>0){let e={},r=new Set;a.forEach(t=>{let a=t.date;e[a]||(e[a]={});let s=t.bucket||"Uncategorized";r.add(s),e[a][s]=(e[a][s]||0)+t.hours});let s=Object.keys(e).sort(),l=Array.from(r),i=["rgba(54, 162, 235, 0.8)","rgba(75, 192, 192, 0.8)","rgba(255, 99, 132, 0.8)","rgba(255, 206, 86, 0.8)","rgba(153, 102, 255, 0.8)","rgba(255, 159, 64, 0.8)"],n=l.map((t,a)=>({label:t,data:s.map(a=>e[a][t]||0),backgroundColor:i[a%i.length]}));t({labels:s,datasets:n})}}catch(e){console.error("Error fetching Toggl data:",e),o(e.message)}finally{i(!1)}})()},[]),(0,r.jsxs)("div",{className:"min-h-screen bg-gray-900 text-white p-6",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Time Tracking Dashboard"}),(0,r.jsx)("div",{className:"bg-gray-800 rounded-lg p-6 shadow-lg",children:a?(0,r.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):n?(0,r.jsxs)("div",{className:"text-red-400 p-4 bg-red-900 bg-opacity-30 rounded border border-red-500",children:[(0,r.jsx)("p",{className:"font-bold",children:"Error loading data:"}),(0,r.jsx)("p",{children:n})]}):e.datasets.length>0?(0,r.jsx)("div",{className:"h-96",children:(0,r.jsx)(d,{data:e,options:{responsive:!0,plugins:{legend:{position:"top",labels:{color:"#e5e7eb"}},title:{display:!0,text:"Time Tracking by Category",color:"#e5e7eb"}},scales:{x:{stacked:!0,grid:{color:"rgba(255, 255, 255, 0.1)"},ticks:{color:"#e5e7eb"}},y:{stacked:!0,grid:{color:"rgba(255, 255, 255, 0.1)"},ticks:{color:"#e5e7eb"},title:{display:!0,text:"Hours",color:"#e5e7eb"}}}}})}):(0,r.jsxs)("div",{className:"text-center py-12 text-gray-400",children:[(0,r.jsx)("p",{className:"text-xl mb-2",children:"No time tracking data available"}),(0,r.jsx)("p",{children:"Log your time in Toggl to see data here"})]})})]})}o.kL.register(o.uw,o.f$,o.ZL,o.Dx,o.u,o.De)}},function(e){e.O(0,[196,490,271,774,888,179],function(){return e(e.s=2948)}),_N_E=e.O()}]);